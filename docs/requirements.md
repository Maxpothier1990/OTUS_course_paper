# Требования к системе

## Требования к системе в целом (Нефункциональные требования)

### Производительность

**`NFPER1`** Система должна обслуживать нем менее 100 пользователей в период пиковой активности с 8:00 до 22:00 по местному времени, со средней продолжительностью сеанса 5 минут.  

**`NFPER2`** Все веб-страницы, генерируемые системой, должны полностью загружаться не более чем за 5 секунды после запроса их по интернет-подключению со скоростью 20 Мбит/сек.  

**`NFPER3`** Система должна выводить пользователю сообщение о подтверждении в среднем за 3 секунды и не более чем через 6 секунд после того, как пользователь отослал информацию системе. 

**`NFPER4`** Система должна обрабатывать до 30 новых заказов в минуту в часы пик без деградации времени отклика, указанного в NFPER3.

**`NFPER5`** Время отклика системы на любом клиентском интерфейсе при пиковой нагрузке (100 одновременных активных сессий) не должно превышать 2 секунд в 95% запросов.

**`NFPER6`** В режиме технического обслуживания система должна позволять завершать текущие транзакции, но блокировать создание новых заказов.

### Удобство использования

**`NFUS1`** Покупатель должен иметь возможность оформить первый заказ без помощи персонала не более чем за 3 минуты.

**`NFUS2`** 95% пользователей должны успешно завершить ключевые сценарии (поиск блюда, добавление в корзину, оплата) без ошибок.

**`NFUS3`** Средний балл по шкале SUS (System Usability Scale) по результатам опроса пользователей клиентского приложения должен быть не менее 75 из 100.

**`NFUS4`** Интерфейс кассира в 1С должен блокировать возможность повторного применения скидки или отмены уже оплаченного заказа без двухуровневого подтверждения (вызов менеджера).

### Безопасность

**`NFSEC1`** Доступ к API должен осуществляться с обязательным использованием JWT-токенов. Должна быть реализована ролевая модель доступа (RBAC) для разделения прав сотрудников.

**`NFSEC2`** Все данные, передаваемые между клиентом и сервером, а также между микросервисами, должны шифроваться с использованием TLS 1.2 или выше. Пароли пользователей должны храниться в хэшированном виде (bcrypt).

**`NFSEC3`** API Gateway должен обеспечивать защиту от базовых атак (DDoS, подбор паролей, SQL-инъекции).

**`NFSEC4`** Доступ к персональным данным покупателей и истории их заказов должен быть строго регламентирован, все действия с данными должны логироваться.

**`NFSEC5`** Инфраструктура, обрабатывающая данные банковских карт (сервис оплаты), должна соответствовать требованиям PCI DSS уровня, применимого к используемому платежному шлюзу.

### Масштабируемость

**`NFSCAL1`** Архитектура системы (микросервисы) должна позволять горизонтально масштабировать каждый сервис независимо от других.

**`NFSCAL2`** Должна быть предусмотрена возможность увеличения количества партиций в топиках Apache Kafka и шардирования баз данных (например, по датам) для обработки растущего объёма данных.

**`NFSCAL3`** Система должна позволять добавлять новые способы оплаты, каналы уведомлений или модули (например, доставку) без изменения кода ядерных сервисов (через плагины или конфигурацию).

### Надежность

**`NFROB1`** Коэффициент готовности системы (доступность) должен составлять не менее 99,5% в течение календарного месяца.

**`NFROB2`** Средняя наработка на отказ (MTBF) для критического бизнес-контура (от создания заказа до его фиксации в БД) должна составлять не менее 720 часов.

**`NFROB3`** Критически важные компоненты (API Gateway, сервисы заказов и оплаты, основная база данных) должны быть развернуты в отказоустойчивой конфигурации (минимум 2 экземпляра).

**`NFROB4`** Если соединение между пользователем и системой разрывается до подтверждения заказа, система должна позволять восстановить незавершенный заказ и продолжить работу с того же шага.

### Совместимость

**`NFCOM1`** Клиентские веб-приложения должны корректно работать в последних версиях браузеров Chrome, Firefox, Safari и их мобильных аналогах.

**`NFCOM2`** Мобильное приложение должно быть совместимо с актуальными версиями ОС Android и iOS (на момент выхода приложения).

**`NFCOM3`** Бэкенд-сервисы должны быть упакованы в Docker-контейнеры, что позволяет разворачивать систему как в облачной инфраструктуре (Yandex Cloud, AWS), так и в локальном дата-центре.

**`NFCOM4`** Интеграция с внешними системами (платежные шлюзы, роботизированный комплекс, 1С, ОФД) должна осуществляться через API, предоставляемые этими системами.

### Доступность

**`NFAVL1`** Система должна быть доступна не менее 99,5% времени в течение месяца (с учётом времени планового обслуживания).

**`NFAVL2`** Плановое техническое обслуживание (обновление, резервное копирование) не должно приводить к простою более 2 часов в месяц.

**`NFAVL3`** Среднее время восстановления системы (MTTR) после сбоя уровня «сервис недоступен» не должно превышать 15 минут.

### Хранения данных

**`NFDT1`** Персональные данные пользователей должны храниться не дольше срока, установленного законодательством (152-ФЗ), и удаляться после закрытия учётной записи.

**`NFDT2`** Фискальные данные (чеки) должны храниться не менее 5 лет в соответствии с требованиями ФЗ-54.

**`NFDT3`** Заказы старше 3 лет должны автоматически перемещаться в архивное (холодное) хранилище для снижения нагрузки на операционные базы данных.

**`NFDT4`** Полное резервное копирование всех баз данных должно выполняться ежедневно, инкрементальное — ежечасно.

**`NFDT5`** Резервные копии должны храниться в географически распределённом хранилище для обеспечения сохранности при авариях.

### Концептуальная целостность

**`NFARC1`** Для синхронного взаимодействия между компонентами системы должен использоваться архитектурный стиль REST. Для асинхронного обмена — событийно-ориентированная архитектура на базе Apache Kafka.

**`NFARC2`** Все сервисы должны быть слабосвязанными и взаимодействовать через единую точку входа — API Gateway.

**`NFARC3`** Каждый микросервис должен быть независимым и иметь собственную базу данных (если требуется). 

### Поддерживаемость

**`NFSUP1`** Система должна логировать действия пользователей, критические события и ошибки. Доступ к логам должен предоставляться через графический интерфейс с возможностью фильтрации и поиска.

**`NFSUP2`** Должен быть обеспечен мониторинг производительности и состояния сервисов в реальном времени (дашборды, алерты).

**`NFSUP3`** Время развертывания новой версии одного микросервиса (включая rolling update) не должно превышать 10 минут.

**`NFSUP4`** Код должен соответствовать принятым стандартам кодстайла, уровень покрытия unit-тестами критической бизнес-логики — не менее 80%.

**`NFSUP5`** Вся конфигурация (подключения к внешним системам, параметры) должна выноситься в централизованное хранилище (Config Server, Vault), а не храниться внутри образов контейнеров.

## Требования к функциям (задачам), выполняемым системой

### User Story диаграмма

Основные функции системы представлены в виде диаграммы User story.  

[[User story mapping](https://app.holst.so/share/b/88076e88-4e70-47f7-8d50-dead7810f132)]

### Описание User story, реализуемых в рамках MVP (Minimum Viable Product)

#### UC-01: Просмотр меню

| Элемент | Описание |
|---------|----------|
| **Название**         | Просмотр меню |
| **Краткое описание** | Посетитель знакомится с актуальным перечнем блюд, их описанием, ценой и наличием. |
| **Субъекты**         | 1. Посетитель<br> 2. Система |
| **Предусловие** | Посетитель находится на главном экране терминала самообслуживания или в мобильном приложении. |
| **Основной сценарий** | 1. Посетитель открывает приложение/терминал.<br>2. Система отображает категории блюд (бургеры, напитки, гарниры и т.д.).<br>3. Посетитель выбирает категорию.<br>4. Система показывает список блюд в категории с фото, названием, ценой и кратким описанием.<br>5. Посетитель может пролистывать список и просматривать детали блюда. |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Категории меню, карточки блюд, изображения, кнопка «Подробнее» |
| **Версия** | **MVP** |

#### UC-02: Добавление блюда в корзину

| Элемент | Описание |
|---------|----------|
| **Название** | Добавление блюда в корзину |
| **Краткое описание** | Посетитель выбирает понравившееся блюдо и добавляет его в корзину для последующего оформления заказа. |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Посетитель просматривает меню (UC-01) или находится на странице детального описания блюда. |
| **Основной сценарий** | 1. Посетитель нажимает кнопку «Добавить в корзину» на карточке блюда.<br>2. Система проверяет наличие ингредиентов (если применимо) и добавляет блюдо в корзину.<br>3. Система отображает всплывающее уведомление «Блюдо добавлено» и обновляет счётчик товаров в корзине.<br>4. Система предлагает перейти в корзину или продолжить выбор (апселлинг – предложение популярных дополнений). |
| **Альтернативный сценарий** | **AF1: Блюдо временно отсутствует**<br>1. Если блюда нет в наличии (закончились ингредиенты), система выводит сообщение: «Данного блюда нет в наличии» и не добавляет его в корзину. Кнопка «Добавить» становится неактивной. |
| **Элементы интерфейса** | Кнопка «Добавить в корзину», всплывающее окно подтверждения, кнопки «Перейти в корзину», «Продолжить выбор» |
| **Версия** | **MVP** |

#### UC-03: Просмотр корзины

| Элемент | Описание |
|---------|----------|
| **Название** | Просмотр корзины |
| **Краткое описание** | Посетитель просматривает список выбранных блюд, их количество, стоимость и итоговую сумму заказа. |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | В корзину добавлено хотя бы одно блюдо. |
| **Основной сценарий** | 1. Посетитель нажимает иконку корзины.<br>2. Система отображает экран корзины со списком добавленных позиций, их количеством, ценой за единицу и общей суммой.<br>3. Посетитель может изменить количество (плюс/минус) или удалить позицию (UC-04). |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Список позиций с фото, названием, ценой; счётчик количества; итоговая сумма; кнопка «Оформить заказ» |
| **Версия** | **MVP** |

#### UC-04: Удаление позиции из корзины

| Элемент | Описание |
|---------|----------|
| **Название** | Удаление позиции из корзины |
| **Краткое описание** | Посетитель удаляет ранее добавленное блюдо, если передумал его заказывать. |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Открыт экран корзины (UC-03). |
| **Основной сценарий** | 1. Посетитель нажимает кнопку удаления (крестик) напротив позиции.<br>2. Система запрашивает подтверждение: «Удалить позицию?»<br>3. Посетитель подтверждает удаление.<br>4. Система убирает позицию из корзины и пересчитывает итоговую сумму.<br>5. Если корзина становится пустой, система отображает сообщение «Корзина пуста». |
| **Альтернативный сценарий** | **AF1: Отмена удаления**<br>1. На шаге 2 посетитель нажимает «Отмена».<br>2. Система закрывает диалог, корзина не изменяется. |
| **Элементы интерфейса** | Кнопка удаления (крестик), диалог подтверждения с кнопками «Да», «Отмена» |
| **Версия** | **MVP** |

#### UC-05: Выбор способа получения заказа

| Элемент | Описание |
|---------|----------|
| **Название** | Выбор способа получения заказа |
| **Краткое описание** | Посетитель выбирает, как он хочет получить заказ: «В зале» или «С собой». |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Посетитель перешёл к оформлению заказа (нажал «Оформить заказ» в корзине). |
| **Основной сценарий** | 1. Система отображает экран выбора способа получения с двумя вариантами: «В зале» и «С собой».<br>2. Посетитель выбирает нужный вариант и нажимает «Далее».<br>3. Система запоминает выбор и переходит к выбору способа оплаты. |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Кнопки-переключатели «В зале», «С собой», кнопка «Далее» |
| **Версия** | **MVP** |

#### UC-06: Оплата заказа банковской картой

| Элемент | Описание |
|---------|----------|
| **Название** | Оплата заказа банковской картой |
| **Краткое описание** | Посетитель оплачивает заказ банковской картой через терминал (для терминала самообслуживания) или онлайн (для мобильного приложения). |
| **Субъекты** | 1. Посетитель<br>2. Система<br>3. Платежный шлюз |
| **Предусловие** | Посетитель выбрал способ получения и перешёл к оплате. Корзина содержит позиции, общая сумма больше нуля. |
| **Основной сценарий** | 1. Система отображает итоговую сумму и предлагает способы оплаты.<br>2. Посетитель выбирает «Банковская карта».<br>3. Система активирует платёжный терминал (или перенаправляет на страницу ввода данных карты).<br>4. Посетитель прикладывает карту к считывателю или вводит данные вручную.<br>5. Система передаёт данные в платёжный шлюз, получает подтверждение об успешной транзакции.<br>6. Система формирует заказ, присваивает ему номер и отправляет команду на кухню.<br>7. Система отображает экран «Заказ оплачен» с номером заказа и QR-кодом для получения. |
| **Альтернативный сценарий** | **AF1: Ошибка оплаты**<br>1. Платёжный шлюз возвращает отказ (недостаточно средств, карта заблокирована и т.п.).<br>2. Система выводит сообщение об ошибке и предлагает повторить оплату или выбрать другой способ.<br>3. Посетитель может повторить попытку или вернуться к выбору способа оплаты.<br><br>**AF2: Отмена оплаты**<br>1. Посетитель нажимает «Отмена» на этапе оплаты.<br>2. Система возвращает к выбору способа оплаты, заказ не создаётся. |
| **Элементы интерфейса** | Кнопка «Оплатить картой», индикатор обработки, сообщение об успехе/ошибке, номер заказа, QR-код |
| **Версия** | **MVP** |

#### UC-07: Получение талона с номером заказа

| Элемент | Описание |
|---------|----------|
| **Название** | Получение талона с номером заказа |
| **Краткое описание** | После успешной оплаты посетитель получает номер заказа и QR-код для отслеживания готовности и получения. |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Заказ успешно оплачен (UC-06). |
| **Основной сценарий** | 1. Система отображает экран с крупным номером заказа, QR-кодом и ориентировочным временем ожидания.<br>2. Посетитель может распечатать талон (на терминале) или сохранить QR-код в телефон.<br>3. Система отправляет заказ на кухню и присваивает ячейку выдачи. |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Номер заказа, QR-код, текст «Ваш заказ готовится», кнопка «Печать чека» (если применимо) |
| **Версия** | **MVP** |

#### UC-08: Базовое управление меню (для менеджера)

| Элемент | Описание |
|---------|----------|
| **Название** | Базовое управление меню |
| **Краткое описание** | Менеджер (администратор) может изменять состав меню, цены и доступность блюд, чтобы актуализировать информацию для посетителей. |
| **Субъекты** | 1. Менеджер<br>2. Система |
| **Предусловие** | Менеджер авторизован в административной панели. |
| **Основной сценарий** | 1. Менеджер открывает раздел «Управление меню».<br>2. Система отображает список всех категорий и блюд.<br>3. Менеджер выбирает блюдо и может:<br>   - изменить название, описание, цену;<br>   - временно скрыть блюдо (сделать недоступным);<br>   - добавить новое блюдо (в MVP – только через интерфейс, без сложной логики).<br>4. После внесения изменений менеджер нажимает «Сохранить».<br>5. Система проверяет корректность данных и обновляет меню на всех клиентских интерфейсах. |
| **Альтернативный сценарий** | **AF1: Ошибка ввода**<br>1. Если обязательные поля не заполнены или цена отрицательная, система выделяет ошибки и не сохраняет изменения. |
| **Элементы интерфейса** | Таблица блюд, поля ввода, кнопки «Редактировать», «Сохранить», «Отмена», переключатель активности |
| **Версия** | **MVP** |

### Функции версии 2 (Ver 2)

#### UC-09: Авторизация посетителя

| Элемент | Описание |
|---------|----------|
| **Название** | Авторизация посетителя |
| **Краткое описание** | Посетитель входит в систему, чтобы использовать бонусную программу, историю заказов и персональные предложения. |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Посетитель открыл экран авторизации (например, через иконку профиля). |
| **Основной сценарий** | 1. Посетитель вводит номер телефона и пароль (или запрашивает код по SMS).<br>2. Система проверяет учётные данные.<br>3. При успехе система перенаправляет посетителя в личный кабинет или возвращает к оформлению заказа с активной бонусной картой. |
| **Альтернативный сценарий** | **AF1: Неверные данные**<br>1. Система сообщает о неверном логине или пароле и предлагает восстановить пароль. |
| **Элементы интерфейса** | Поля «Телефон», «Пароль», кнопка «Войти», ссылки «Зарегистрироваться», «Забыли пароль?» |
| **Версия** | **Ver 2** |

#### UC-10: Регистрация посетителя

| Элемент | Описание |
|---------|----------|
| **Название** | Регистрация посетителя |
| **Краткое описание** | Посетитель создаёт учётную запись для доступа к бонусам и персональным функциям. |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Посетитель перешёл на экран регистрации. |
| **Основной сценарий** | 1. Посетитель вводит номер телефона, имя (по желанию), пароль.<br>2. Система отправляет SMS с кодом подтверждения.<br>3. Посетитель вводит код.<br>4. Система создаёт учётную запись и автоматически авторизует посетителя. |
| **Альтернативный сценарий** | **AF1: Номер уже зарегистрирован**<br>1. Система сообщает, что пользователь с таким номером уже существует, и предлагает войти или восстановить пароль. |
| **Элементы интерфейса** | Поля ввода, кнопка «Зарегистрироваться», поле ввода кода из SMS |
| **Версия** | **Ver 2** |

#### UC-11: Использование бонусной системы

| Элемент | Описание |
|---------|----------|
| **Название** | Использование бонусной системы |
| **Краткое описание** | Авторизованный посетитель может накапливать и списывать бонусные баллы при оплате заказа. |
| **Субъекты** | 1. Посетитель (авторизованный)<br>2. Система |
| **Предусловие** | Посетитель авторизован, корзина не пуста, открыт экран оплаты. |
| **Основной сценарий** | 1. Система отображает текущий баланс бонусов и предлагает активировать их списание.<br>2. Посетитель вводит количество баллов для списания (или выбирает «Списать максимально»).<br>3. Система пересчитывает итоговую сумму с учётом скидки.<br>4. После оплаты система начисляет новые баллы за заказ (процент от суммы). |
| **Альтернативный сценарий** | **AF1: Недостаточно баллов**<br>1. Если посетитель пытается списать больше, чем доступно, система корректирует введённое значение до максимально возможного. |
| **Элементы интерфейса** | Отображение баланса, поле ввода баллов, кнопка «Применить», обновлённая итоговая сумма |
| **Версия** | **Ver 2** |

#### UC-12: Оплата подарочной картой (Gift Card)

| Элемент | Описание |
|---------|----------|
| **Название** | Оплата подарочной картой |
| **Краткое описание** | Посетитель оплачивает заказ подарочной картой (gift card). |
| **Субъекты** | 1. Посетитель<br>2. Система |
| **Предусловие** | Корзина сформирована, выбран способ получения, открыт экран выбора оплаты. |
| **Основной сценарий** | 1. Посетитель выбирает способ оплаты «Подарочная карта».<br>2. Система запрашивает номер карты или сканирование штрих-кода.<br>3. Посетитель вводит номер карты.<br>4. Система проверяет баланс карты и достаточность средств.<br>5. Если средств достаточно, система списывает сумму и создаёт заказ. |
| **Альтернативный сценарий** | **AF1: Недостаточно средств**<br>1. Система сообщает об остатке на карте и предлагает доплатить другим способом (банковской картой или наличными).<br><br>**AF2: Карта недействительна**<br>1. Система сообщает об ошибке и предлагает ввести другой номер. |
| **Элементы интерфейса** | Поле ввода номера карты, кнопка «Проверить», сообщение об остатке |
| **Версия** | **Ver 2** |

#### UC-13: Управление акциями и комплексными предложениями

| Элемент | Описание |
|---------|----------|
| **Название** | Управление маркетинговыми акциями и комбо |
| **Краткое описание** | Менеджер создаёт и редактирует акции (скидки, специальные предложения) и комплексные предложения (комбо). |
| **Субъекты** | 1. Менеджер<br>2. Система |
| **Предусловие** | Менеджер авторизован в административной панели. |
| **Основной сценарий** | 1. Менеджер открывает раздел «Акции и комбо».<br>2. Система показывает список текущих акций.<br>3. Менеджер может создать новую акцию (указать условия, размер скидки, период действия) или отредактировать существующую.<br>4. После сохранения акция становится активной и применяется при расчёте корзины для посетителей. |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Форма создания акции, календарь выбора дат, настройки условий |
| **Версия** | **Ver 2** |

#### UC-14: Отслеживание состояния производства (для работника)

| Элемент | Описание |
|---------|----------|
| **Название** | Мониторинг производства |
| **Краткое описание** | Работник производства видит текущую очередь заказов, статус выполнения и может отслеживать простой оборудования. |
| **Субъекты** | 1. Работник производства<br>2. Система |
| **Предусловие** | Работник авторизован на рабочем месте. |
| **Основной сценарий** | 1. Работник открывает дашборд производства.<br>2. Система отображает список активных заказов, их состав, время до готовности.<br>3. При завершении приготовления работник отмечает заказ как готовый, система отправляет уведомление посетителю. |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Таблица заказов, индикаторы времени, кнопка «Готово» |
| **Версия** | **Ver 2** |

#### UC-15: Отслеживание запасов полуфабрикатов

| Элемент | Описание |
|---------|----------|
| **Название** | Управление запасами |
| **Краткое описание** | Работник или менеджер видит текущие остатки ингредиентов и может инициировать пополнение. |
| **Субъекты** | 1. Работник/Менеджер<br>2. Система |
| **Предусловие** | Авторизованный пользователь с правами доступа к складскому учёту. |
| **Основной сценарий** | 1. Пользователь открывает раздел «Запасы».<br>2. Система показывает список ингредиентов с количеством и пороговыми значениями.<br>3. Если остаток ниже нормы, система выделяет строку и рекомендует заказать. |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Таблица остатков, цветовая индикация, кнопка «Заказать» |
| **Версия** | **Ver 2** |

### Функции версии 3 (Ver 3)

#### UC-16: Возврат денежных средств (наличные / карта)

| Элемент | Описание |
|---------|----------|
| **Название** | Оформление возврата |
| **Краткое описание** | Менеджер оформляет возврат средств за отменённый заказ (по просьбе посетителя или при техническом сбое). |
| **Субъекты** | 1. Менеджер<br>2. Система |
| **Предусловие** | Заказ существует, оплачен, но не выдан (или посетитель отказался). |
| **Основной сценарий** | 1. Менеджер находит заказ в системе и открывает его карточку.<br>2. Выбирает операцию «Возврат».<br>3. Система запрашивает подтверждение и способ возврата (наличные или на карту).<br>4. Менеджер выбирает способ, система проводит возврат через платёжный терминал (для карты) или открывает денежный ящик (для наличных).<br>5. Система фиксирует факт возврата и отправляет уведомление. |
| **Альтернативный сценарий** | **AF1: Ошибка возврата по карте**<br>1. Если платёжный шлюз не принимает возврат, система уведомляет об ошибке и предлагает оформить возврат наличными. |
| **Элементы интерфейса** | Кнопка «Возврат», выбор способа, подтверждение |
| **Версия** | **Ver 3** |

#### UC-17: Уведомления о технических событиях

| Элемент | Описание |
|---------|----------|
| **Название** | Технические уведомления для менеджера |
| **Краткое описание** | Менеджер получает уведомления о сбоях в работе оборудования, ошибках в системе или других критических событиях. |
| **Субъекты** | 1. Менеджер<br>2. Система |
| **Предусловие** | Система обнаружила нештатную ситуацию (например, робот не отвечает, терминал отключился). |
| **Основной сценарий** | 1. Система генерирует уведомление и отправляет его в интерфейс менеджера (всплывающее окно, email, SMS).<br>2. Менеджер открывает уведомление, видит описание проблемы и рекомендации.<br>3. Менеджер принимает меры (вызывает техника, перезагружает оборудование). |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Центр уведомлений, индикаторы тревог |
| **Версия** | **Ver 3** |

#### UC-18: Уведомления о выдаче позиций (для работника кухни)

| Элемент | Описание |
|---------|----------|
| **Название** | Уведомления о выдаче |
| **Краткое описание** | Работник кухни получает напоминание о необходимости выдать готовый заказ в ячейку или на стойку. |
| **Субъекты** | 1. Работник производства<br>2. Система |
| **Предусловие** | Заказ приготовлен, но не выдан более 2 минут (настраиваемый интервал). |
| **Основной сценарий** | 1. Система определяет, что готовый заказ ожидает выдачи.<br>2. Отправляет уведомление на терминал работника или на табло выдачи.<br>3. Работник визуально подтверждает выдачу (например, сканирует чек). |
| **Альтернативный сценарий** | *Отсутствует* |
| **Элементы интерфейса** | Список «Ожидает выдачи», звуковой сигнал |
| **Версия** | **Ver 3** |


> **Примечание:** Приведённые Use Case охватывают все уникальные сценарии из предоставленного User Story Mapping. Повторяющиеся или неинформативные истории (например, US07, US15, US16) были объединены с соответствующими основными сценариями.
<p>Версии (MVP, Ver 2, Ver 3) назначены исходя из типовой приоритезации:</p> 
<p>базовый функционал для посетителей и минимальное администрирование отнесены к MVP; </p> 
<p>бонусы, авторизация, управление акциями – ко второй версии;</p> 
<p>сложные операции возврата и расширенные уведомления – к третьей. При необходимости распределение может быть скорректировано заказчиком.</p>